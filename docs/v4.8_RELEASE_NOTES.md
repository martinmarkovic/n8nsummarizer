# v4.8 Release Notes - Transcript Saving & Root Cleanup

**Release Date:** January 6, 2026
**Base:** v4.7 (Recursive Subfolder Support)
**Status:** Ready for Testing

## Overview

v4.8 introduces transcript saving functionality with dual format support (SRT + optional TXT), and cleans up the root directory by removing legacy markdown documentation files.

---

## ‚ú® New Features

### 1. Transcript Saving in Bulk Summarizer

**Location:** Bulk Summarizer Tab ‚Üí "Transcript Options (NEW)" section

#### Main Features:
- üÜï **"Save transcripts as well"** checkbox
- Saves transcripts to separate folder alongside summaries
- Output folder structure:
  ```
  /parent/
    [FolderName - Summarized]/  ‚Üê summaries go here
    [FolderName - Transcripts]/  ‚Üê transcripts go here (NEW)
  ```

#### Transcript Format Options:
1. **Default Format: SRT (.srt)**
   - Always saved when transcript option enabled
   - Subtitle format (with timestamps if available)
   - Cannot be disabled (default choice)

2. **Optional Format: TXT (.txt)**
   - "Also keep .txt transcripts" checkbox below SRT option
   - When enabled: Both .srt AND .txt versions saved
   - Plain text format
   - Useful for compatibility

#### Behavior:
- **When disabled:** No transcripts saved (normal summarization only)
- **When enabled + SRT only:** Saves `.srt` files only
- **When enabled + SRT + TXT:** Saves both `.srt` and `.txt` formats

#### File Organization:
```
Source Folder: /Documents/
  ‚îú‚îÄ file1.txt
  ‚îî‚îÄ subfolder/
      ‚îî‚îÄ file2.txt

Output (with transcript saving):
  ‚îú‚îÄ Documents - Summarized/
  ‚îÇ   ‚îú‚îÄ file1_summary.txt
  ‚îÇ   ‚îî‚îÄ subfolder/
  ‚îÇ       ‚îî‚îÄ file2_summary.txt
  ‚îÇ
  ‚îî‚îÄ Documents - Transcripts/
      ‚îú‚îÄ file1.srt
      ‚îú‚îÄ file1.txt  (if TXT option enabled)
      ‚îî‚îÄ subfolder/
          ‚îú‚îÄ file2.srt
          ‚îî‚îÄ file2.txt  (if TXT option enabled)
```

#### How to Use:

1. **Select source folder** (same as always)
2. **Choose file types** (txt, srt, docx, pdf)
3. **Enable "Save transcripts as well"** checkbox
4. **(Optional) Enable "Also keep .txt transcripts"** for dual format
5. **Select output format options** (separate/combined summaries)
6. **Start processing** - transcripts extracted automatically

#### Works With:
- ‚úÖ All file types (TXT, SRT, DOCX, PDF)
- ‚úÖ Recursive subfolder scanning (v4.7)
- ‚úÖ Combined summary output
- ‚úÖ Preference saving (.env)

### 2. Root Directory Cleanup

**Removed Files:**
- ‚ùå `CHANGELOG_v4.7.md`
- ‚ùå `CLEANUP_v4.5.md`
- ‚ùå `DELETE_BRANCHES.md`
- ‚ùå `ISSUE_ANALYSIS_AND_FIX.md`
- ‚ùå `LM_STUDIO_RUNTIME_FIX.md`

**Kept Files:**
- ‚úÖ `README.md` (main documentation)
- ‚úÖ `.env.example` (configuration template)
- ‚úÖ `.gitignore` (git configuration)
- ‚úÖ All source code files
- ‚úÖ All configuration files

**Rationale:** Legacy markdown files moved to `/docs/` directory. Root stays clean with only essential files.

---

## üîß Technical Implementation

### UI Changes (views/bulk_summarizer_tab.py)

**New Variables:**
```python
self.save_transcripts = tk.BooleanVar(value=False)
self.transcript_format_srt = tk.BooleanVar(value=True)   # Always True
self.transcript_format_txt = tk.BooleanVar(value=False)  # Optional
```

**New Methods:**
- `_setup_transcript_options()` - Creates UI section
- `_on_transcript_option_changed()` - Handles checkbox toggle
- `get_transcript_options()` - Returns settings dict

**New Public Method:**
```python
def get_transcript_options(self) -> dict:
    """
    Returns: {
        'save': bool,         # Save transcripts?
        'format_srt': bool,   # Always True
        'format_txt': bool    # Optional TXT format?
    }
    """
```

**Updated Preferences:**
```python
BULK_SAVE_TRANSCRIPTS = true/false
BULK_TRANSCRIPT_FORMAT_TXT = true/false
```

### UI Layout (Row Numbers)

| Row | Section | Status |
|-----|---------|--------|
| 0 | Folder Selection | Unchanged |
| 1 | File Types | Unchanged |
| 2 | Scanning Options | Unchanged |
| 3 | Output Format | Unchanged |
| 4 | **Transcript Options** | **NEW** |
| 5 | Output Location | Shifted down |
| 6 | Processing | Shifted down |
| 7 | Progress | Shifted down |
| 8 | Status Log | Shifted down |

### Future Controller Implementation

The controller will need to:
1. Get transcript options via `view.get_transcript_options()`
2. Extract transcripts during N8N processing
3. Save to `[FolderName - Transcripts]` folder
4. Support both `.srt` and `.txt` formats
5. Preserve folder structure (recursive mode)
6. Log transcript operations

---

## üìã Preferences Management

All transcript settings saved in `.env` file:

```env
BULK_FILE_TYPES=txt,srt,docx
BULK_OUTPUT_SEPARATE=true
BULK_OUTPUT_COMBINED=false
BULK_RECURSIVE_SUBFOLDERS=false
BULK_SAVE_TRANSCRIPTS=false
BULK_TRANSCRIPT_FORMAT_TXT=false
```

**Persistence:** Settings loaded on tab initialization, saved on every change.

---

## ‚úÖ Testing Checklist

### UI Testing
- [ ] "Save transcripts as well" checkbox appears
- [ ] SRT checkbox cannot be disabled (grayed out)
- [ ] TXT checkbox enables/disables correctly
- [ ] Info text shows correct folder naming
- [ ] Preferences save/load from .env
- [ ] Settings persist across app restarts

### Functional Testing (Requires Controller Updates)
- [ ] Transcripts saved to separate folder
- [ ] Folder naming: "[SourceName - Transcripts]"
- [ ] SRT format saved correctly
- [ ] TXT format saved when enabled
- [ ] Both formats saved when both enabled
- [ ] Works with recursive subfolder mode
- [ ] Works with combined summary output
- [ ] Folder structure preserved in transcripts folder

### Edge Cases
- [ ] Empty transcripts handled gracefully
- [ ] File naming conflicts avoided
- [ ] Status log shows transcript operations
- [ ] Error messages clear and helpful
- [ ] Cancel operation stops transcript extraction

---

## üìö Documentation

**Locations:**
- `/docs/v4.8_RELEASE_NOTES.md` - This file
- `/README.md` - Updated with v4.8 features
- Code docstrings - Comprehensive method documentation

---

## üîÑ Version History

| Version | Date | Key Changes |
|---------|------|-------------|
| **v4.8** | 2026-01-06 | Transcript saving + root cleanup |
| v4.7 | 2026-01-06 | Recursive subfolder scanning |
| v4.6 | 2026-01-05 | Clean N8N/LM Studio output |
| v4.5 | Earlier | Previous versions |

---

## üöÄ Next Steps

### Immediate (Required for v4.8 Release)
1. Implement transcript extraction in controller
2. Add transcript saving logic
3. Test all transcript format combinations
4. Update README with transcript feature
5. Tag v4.8 release

### Future Enhancements (v4.9+)
- Option to exclude certain file types from transcription
- Transcript filename customization
- Transcript format detection (auto-detect SRT vs TXT)
- Combined transcript file option
- Transcript quality/length controls
- Multi-language transcript support

---

## üìù Notes for Developers

### Transcript File Naming
- Source: `interview.srt` ‚Üí Transcript: `interview.srt` and/or `interview.txt`
- Source: `document.docx` ‚Üí Transcript: `document.srt` and/or `document.txt`

### Folder Structure Consistency
- If recursive mode + transcript saving:
  - Both "- Summarized" and "- Transcripts" folders mirror source structure
  - Subfolders created as needed in both output folders

### Status Logging
- "Transcript saving: Enabled/Disabled" when checkbox toggled
- File-level: "[filename] - Extracted transcript (.srt, .txt)" after completion
- Summary: Total transcripts extracted in completion message

### Error Handling
- Failed transcript extraction should not stop summarization
- Log failed transcripts for user review
- Continue processing next file

---

## üí¨ Questions?

Refer to inline code documentation or create an issue for clarification.
