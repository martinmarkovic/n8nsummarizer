# v5.0 Release Notes - Bulk Transcriber Tab

**Version:** 5.0
**Release Date:** 2026-01-06
**Base:** v4.7 (with recursive subfolder support)
**Status:** Ready for testing

---

## ğŸ¯ What's New in v5.0

### âœ¨ Feature: 5th Tab - Bulk Transcriber

**New Tab: "ğŸ¬ Bulk Transcriber"** - Transcribe entire folders of media files

Just like the Bulk Summarizer works for documents, the Bulk Transcriber works for audio and video files. Process whole folders at once with:

#### Media Type Selection (11 formats supported)
- **Video Formats (5):**
  - MP4 (default)
  - MOV
  - AVI
  - MKV
  - WebM

- **Audio Formats (6):**
  - MP3
  - WAV
  - M4A
  - FLAC
  - AAC
  - WMA

#### Output Format Options (4 formats)
- **SRT** (Default - Subtitle format with timestamps)
- **TXT** (Plain text transcripts)
- **VTT** (WebVTT format for web players)
- **JSON** (Structured data format)

#### Scanning Options
- **Recursive Subfolder Scanning** - Just like Bulk Summarizer
  - Scan all nested subfolders
  - Maintain folder structure in output
  - Smart file discovery

#### Folder Management
- **Source Folder Selection** - Browse button to choose folder with media
- **Output Location** - Default (parent folder) or custom location
- **File Counter** - Shows matching files for selected formats

#### User Experience
- **Progress Tracking** - Progress bar + current file display
- **Status Logging** - Real-time operation log with indicators
- **Preference Persistence** - Remembers your format choices in .env

---

## ğŸ› Bug Fixes

### Font Loading Bug FIXED
- **Issue:** App was loading with default font before applying saved preference
- **Root Cause:** Font size from .env was being read but not applied until after UI rendering
- **Solution:** Font size now loaded BEFORE tab creation and applied immediately after
- **Result:** Correct font size displays from the moment app opens

---

## ğŸ“¦ Files Changed/Added

### New Files
- **`views/bulk_transcriber_tab.py`** (27KB)
  - Complete Bulk Transcriber UI
  - Media type checkboxes (11 formats)
  - Output format selection
  - Folder browsing and management
  - Progress tracking
  - Status logging
  - Preference persistence

### Modified Files
- **`views/main_window.py`** 
  - Added import: `from views.bulk_transcriber_tab import BulkTranscriberTab`
  - Updated version: `v4.3` â†’ `v5.0`
  - Updated title label: `v4.3` â†’ `v5.0`
  - Added Tab 5 initialization: `BulkTranscriberTab(self.notebook)`
  - Added tab registration with emoji: `"ğŸ¬ Bulk Transcriber"`
  - Added font size application for Bulk Transcriber
  - Added theme coloring for Bulk Transcriber
  - Fixed font loading to apply BEFORE tab creation

---

## ğŸ”„ Tab Structure (v5.0)

| Tab # | Name | Type | Feature |
|-------|------|------|----------|
| 1 | ğŸ“„ File Summarizer | Single file | Summarize documents via LM Studio |
| 2 | ğŸœ YouTube Summarization | YouTube URL | Transcribe and summarize videos |
| 3 | ğŸ—¡ Transcriber | Single file | Transcribe audio/video files |
| 4 | ğŸ“¦ Bulk Summarizer | Folder | Summarize multiple files recursively |
| 5 | ğŸ¬ Bulk Transcriber | Folder | **NEW** - Transcribe media folders recursively |

---

## ğŸ® How to Use Bulk Transcriber

### Step 1: Select Media Formats
1. Check the video and audio formats you want to transcribe
2. MP4 is selected by default
3. You can select multiple formats

### Step 2: Browse Source Folder
1. Click `[Browse...]` button
2. Select folder containing your media files
3. App shows count of matching files found
4. Button enables automatically when valid files found

### Step 3: Choose Output Formats
1. Select which transcript formats to save
2. Can choose multiple (e.g., SRT + JSON)
3. SRT selected by default

### Step 4: Configure Scanning
1. Check "Scan Subfolders (recursive scanning)" if needed
2. App maintains folder structure in output
3. Updates file count when toggled

### Step 5: Set Output Location
1. Default: Parent folder of source folder
2. Custom: Click Browse to select different location
3. Output folder shown in UI

### Step 6: Start Transcribing
1. Click "Start Transcribing" button
2. Progress bar shows percentage completion
3. Current file displayed in real-time
4. Status log shows all operations
5. Can cancel anytime with "Cancel" button

---

## ğŸ’¾ Configuration (.env)

Bulk Transcriber saves preferences to `.env`:

```env
# Existing settings
APP_FONT_SIZE=10

# NEW in v5.0 - Bulk Transcriber preferences
BULK_TRANS_MEDIA_TYPES=mp4,mp3,wav
BULK_TRANS_OUTPUT_FORMATS=srt,txt
BULK_TRANS_RECURSIVE_SUBFOLDERS=false
```

- Settings auto-saved when you change selections
- Load automatically on app startup
- Fallback to defaults if not found

---

## âš™ï¸ Technical Implementation

### Bulk Transcriber Tab (`bulk_transcriber_tab.py`)

**Key Methods:**
- `_setup_ui()` - Initialize all UI components
- `_browse_folder()` - Handle folder selection dialog
- `_count_matching_files()` - Find matching media files (supports recursive)
- `get_media_types()` - Return selected formats as list
- `get_output_formats()` - Return selected output formats
- `update_progress()` - Update progress bar and text
- `append_log()` - Add timestamped messages to log
- `_load_preferences()` - Load .env settings
- `_save_preferences()` - Save user selections to .env

**UI Sections:**
1. Folder Selection (with Browse button)
2. Video Format Checkboxes (MP4, MOV, AVI, MKV, WebM)
3. Audio Format Checkboxes (MP3, WAV, M4A, FLAC, AAC, WMA)
4. Recursive Scanning Option
5. Output Format Selection (SRT, TXT, VTT, JSON)
6. Output Location Selection (Default or Custom)
7. Processing Controls (Start/Cancel buttons)
8. Progress Tracking (Bar + file counter)
9. Status Log (with scrollable text widget)

**Event Flow:**
1. User browses folder â†’ `_browse_folder()` â†’ counts files â†’ updates UI
2. User changes media types â†’ `_on_media_type_changed()` â†’ recounts files
3. User toggles recursive â†’ `_on_recursive_changed()` â†’ recounts files
4. User clicks Start â†’ `_on_start_clicked()` â†’ triggers callback
5. Controller processes files â†’ calls `update_progress()`, `set_current_file()`, `append_log()`

### Main Window Updates (`main_window.py`)

**Changes:**
1. **Import:** Added `from views.bulk_transcriber_tab import BulkTranscriberTab`
2. **Tab Registration:** Added 5th tab with emoji ğŸ¬
3. **Font Size Fix:** Font loaded BEFORE tabs created (fixes font bug)
4. **Theme Support:** Added Bulk Transcriber to theme color application
5. **Font Scaling:** Added Bulk Transcriber status_log to font size application
6. **Version:** Updated to v5.0 in title and docstring
7. **Documentation:** Updated tab order and tab comments

---

## ğŸ§ª Testing Checklist

- [ ] App opens with title "v5.0"
- [ ] 5 tabs visible in tab bar
- [ ] Tab 5 shows "ğŸ¬ Bulk Transcriber"
- [ ] Font size loads correctly (matches .env value)
- [ ] Browse button opens folder selector
- [ ] File counter updates when formats selected
- [ ] Recursive checkbox toggles scanning mode
- [ ] Output format checkboxes work
- [ ] Progress bar renders
- [ ] Status log displays messages with timestamps
- [ ] Preferences save to .env
- [ ] Preferences load on app restart
- [ ] Dark mode applies to Bulk Transcriber tab
- [ ] Light mode applies to Bulk Transcriber tab
- [ ] Font size changes apply to status log

---

## ğŸ”§ Integration Notes

### Controller Integration (Next Step)

Bulk Transcriber tab UI is complete and ready. When controller is implemented:

1. Register controller callbacks:
   ```python
   self.bulk_transcriber_tab.set_on_start_requested(controller.handle_start)
   self.bulk_transcriber_tab.set_on_cancel_requested(controller.handle_cancel)
   ```

2. Controller should:
   - Get media types: `tab.get_media_types()`
   - Get output formats: `tab.get_output_formats()`
   - Get source folder: `tab.get_source_folder()`
   - Get output folder: `tab.get_output_folder()`
   - Check recursive: `tab.get_recursive_option()`

3. During processing, controller calls:
   - `tab.update_progress(current, total)`
   - `tab.set_current_file(filename)`
   - `tab.append_log(message, status)`
   - `tab.set_processing_enabled(enabled)`

---

## ğŸ“‹ Comparison: v4.7 vs v5.0

| Feature | v4.7 | v5.0 |
|---------|------|------|
| Tabs | 4 | 5 |
| Bulk Summarizer (Folder) | âœ… | âœ… |
| Bulk Transcriber (Folder) | âŒ | âœ… **NEW** |
| Recursive Scanning | âœ… (Bulk Summarizer) | âœ… (Both) |
| Format Selection | âœ… (Output only) | âœ… (Input + Output) |
| Media Type Checkboxes | âŒ | âœ… **NEW** |
| Font Loading Bug | âš ï¸ Present | âœ… **FIXED** |
| UI Polish | âœ… | âœ… Enhanced |

---

## ğŸš€ Next Steps

1. **Controller Implementation**
   - Create `controllers/bulk_transcriber_controller.py`
   - Handle file discovery and processing
   - Integration with LM Studio for transcription

2. **Testing**
   - Test with various media formats
   - Verify recursive scanning
   - Check output format generation

3. **Documentation**
   - User guide for Bulk Transcriber
   - Video tutorial
   - Troubleshooting guide

---

## ğŸ“ Version History

- **v5.0** (2026-01-06): Bulk Transcriber tab, font loading fix
- **v4.7** (2025-12-27): Recursive summarizer with advanced options
- **v4.6** (2025-12-27): Bulk summarizer enhancements
- **v4.5** (2025-12-26): UI refinements
- **v4.4.4** (2025-12-27): Font size persistence
- **v4.3** (2025-12-23): Theme system
- v4.2, v4.1, v4.0 and earlier: See GitHub commits

---

## ğŸ‘¤ Author
Martin Markovic

## ğŸ“„ License
See LICENSE file

---

**v5.0-new branch is ready for merging into main!**
